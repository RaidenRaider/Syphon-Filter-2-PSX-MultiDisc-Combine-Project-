; DEBUG = 2B190-2B440
;
; 2B190-2B1B0 = CD1 LBA / CD2 LBA / <unused> / CD #
; 2B1B0-2Bxxx = address -> time LBA remap



;-->
;800116c4 : AA220003  SWL     00000600 (v0), 0003 (8002b59c (s1)) [8002b59f]
;800116c8 : BA220000  SWR     00000600 (v0), 0000 (8002b59c (s1)) [8002b59c]
;-->
;800116cc : 24040001  ADDIU   80090020 (a0), 00000000 (r0), 0001 (1),
;800116d0 : 3C018003  LUI     80030000 (at), 8003 (32771),
;800116d4 : A020B59F  SB      00000000 (r0), b59f (80030000 (at)) [8002b59f]


org $8002b1b0


; skip CD1
lui a0,$8002+1
lbu at,$b19c(a0)
nop
beq at,r0,EXIT
nop


;  12C-39B5C [SO2.BIN] [0:6.0 - 52:33.55]
;3A4D0-854F9 [SO2-2.BIN] [53:6.0 - 121:22.41]

; store m:s:f (MSB = 00:10.67)
;800116c4 : AA220003  SWL     00671000 (v0), 0003 (8002b59c (s1)) [8002b59f]

; adjust LBA ptr (m:s:f format)
addiu v0,v0,$53

; ===========================
; ===========================
; ===========================
; ===========================

EXIT:

; OLD code
swl v0,3(s1)
swr v0,0(s1)

j $800116cc
nop
